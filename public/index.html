<!DOCTYPE html>
<html lang="sr">
<head>
    <meta charset="UTF-8">
    <title>Izbor Kluba</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
        }
        a.club-button {
            display: block;
            margin: 20px;
            padding: 10px 20px;
            font-size: 1.5em;
            color: #fff;
            background-color: #333;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            text-decoration: none;
        }
        a.club-button:hover {
            background-color: #555;
        }
    </style>
</head>
<body>

<h1>Izaberite Klub</h1>
<ul id="club-list"></ul>

<a href="login.html" class="admin-login">Prijavi se kao administrator</a>

<script>
    // Inicijalizacija Supabase klijenta
    const supabaseUrl = 'https://piykumcyaqnyxwndozhb.supabase.co';
    const supabaseKey = 'eyJhbGciOiJIUz...'; // Vaš Anon Public Key
    const supabase = supabase.createClient(supabaseUrl, supabaseKey);

    document.addEventListener('DOMContentLoaded', async () => {
        const { data: clubs, error } = await supabase.from('clubs').select('*');

        if (error) {
            console.error("Greška prilikom učitavanja klubova:", error.message);
            return;
        }

        const clubList = document.getElementById('club-list');

        clubs.forEach(club => {
            const li = document.createElement('li');
            const a = document.createElement('a');
            a.textContent = club.name;
            a.href = `club.html?club=${encodeURIComponent(club.name)}`;
            a.classList.add('club-button');
            li.appendChild(a);
            clubList.appendChild(li);
        });
    });
</script>

</body>
</html>
